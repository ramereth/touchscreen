<!--
    screen_weather.html
    by Rob McGuire-Dale, 12/31/2009

    This screen displays the current weather, and a 5-day forcast
-->

<script type="text/javascript">

    /////////////////
    // Global Data //
    /////////////////

    // unit information
    var screen_weather_units = {
        temp:null,      // i.e. F (fahrenheit) or C (celcius)
        distance:null,  // i.e. km or mi
        speed:null,     // i.e. kmh or mph
        pressure:null   // i.e. mb (millibars) or in (inches of mercury)
    };

    // location information
    var screen_weather_locationInfo = {
        name:null,      // city's name
        time:null,      // location's current time
        sunrise:null,   // time of sunrise
        sunset:null     // time of sunset
    };
    
    // current condition information
    var screen_weather_cc = {
        lastUpdate:null,        // when the information was last updated
        temp:null,              // the current temperature
        feelsLike:null,         // the "feels like" temperature
        condition:null,         // i.e. "sunny" or "overcast"
        icon:null,              // associated condition icon
        pressure:{              // barometric pressure
            value:null,         // pressure value
            description:null    // i.e. "steady"
        },
        wind:{                  // wind information
            value:null,         // wind speed
            from:null           // direction wind is coming from, i.e. "NW"
        },
        humidity:null,          // the humidity percentage
        visual:null,            // visibility value (how far one can see)
        dewpoint:null,          // dewpoint temperature
        moon:{                  // moon information
            icon:null,          // associated moon phase icon
            description:null    // i.e. "full"
        },
    };

    // 5-day forecast information
    var screen_weather_forecast = {
        lastUpdate:null,    // when the forecast information was last updated
        days:new Array()    // an array of forecast days
    };
    
    // A single forecast day
    function screen_weather_forecast_day( 
        high,       // high temp of the day
        low,        // low temp of the day
        sunrise,    // sunrise time
        sunset,     // sunset time
        icon,       // icon associated with condition
        condition,  // condition description
        wind_speed, // speed of the wind
        wind_from,  // direction wind is coming from, i.e. "NW"
        precip,     // percent chance of precipitation
        humidity )  // humidity percentage
    {
        this.high = high;
        this.low = low;
        this.sunrise = sunrise;
        this.sunset = sunset;
        this.icon = icon;
        this.condition = condition;
        this.wind = {
            speed:wind_speed,
            from:wind_from
        };
        this.precip = precip;
        this.humidity = humidity;
    }

    ///////////////////
    // Screen Events //
    ///////////////////

    function screen_weather_init()
    {
        safelog('screen_weather: initializing...');
        
        screen_weather_forecast.days.push( 
            new screen_weather_forecast_day( null, null, null, null, null, null, 
                15, "NW", null, null ) );
                
        alert( screen_weather_forecast.days[0].wind.speed );
    }

    function screen_weather_start()
    {
        safelog('screen_weather: starting...');
    }

    function screen_weather_stop()
    {
        safelog('screen_weather: stopping');
    }

    function screen_weather_onScreenResize()
    {
        safelog('screen_weather: window resized to ' + screenWidth() + "x" +
            screenHeight());
    }
    
    function screen_weather_refreshTiles()
    {
        
    }
</script>

<!-- Current Weather Tile -->
<div id="screen_weather_current" class="display_tile display_content">
    <h1>Current Weather Placeholder</h1>
</div>

<!-- Maps Tile -->
<div id="screen_weather_maps" class="display_tile display_content">
    <h1>Maps Placeholder</h1>
</div>

<!-- 5-Day Forecast Tile -->
<div id="screen_weather_forecast" 
    class="display_tile display_content">
    
    <h1>5-Day Forecast Placeholder</h1>
</div>
